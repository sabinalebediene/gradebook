{% extends 'base.html.twig' %}

{% block title %}Grades list
{% endblock %}

{% block body %}
	<div class="container-fluid">
		<div class="row justify-content-center">
			<div class="col-md-8">
				<div class="card">
					<div class="card-header">
						<h1>Grades</h1>
					</div>
					<div class="card-body">
						List order by:
						<form action="{{path('grade_index')}}" method="GET">
							<select name="student_id">
								<option value="0">View all</option>
								//TODO: filter kad pasiliktų studentas išfiltruotas kaip selected
								{% for student in students %}
									<option value="{{student.id}}">{{student.name}}
										{{student.surname}}</option>
								{% endfor %}
							</select>
							<button type="submit">Filter</button>
						</form>
						<a href="{{path('grade_index')}}">Clear filter</a>
						<ul class="book-list">
							{% if grades is empty %}
								<p>There are no grades to show for selected student.</p>
							{% endif %}
							{% for grade in grades %}
								<li class="container list-group-item">
									<div class="row list-group-item__line">
										<div class="col-sm">
											{{grade.student.name}}
											{{grade.student.surname}}
										</div>
										<div class="col-sm">
											{{grade.lecture.title}}
										</div>
										<div class="col-sm">
											<p class="title">Grade:
												{{grade.grade}}</p>
										</div>
										<div class="btn-group list-group-item__line__buttons" role="group" aria-label="Basic example">
											<a href="{{path('student_edit', {id:grade.id})}}" class="btn btn-success">EDIT</a>
											<form action="{{path('student_delete', {id:grade.id})}}" method="POST">
												<button type="submit" class="btn btn-danger">DELETE</button>
											</form>
										</div>
									</div>
								{% endfor %}
							</li>
						</ul>
					</div>
				{% endblock %}
